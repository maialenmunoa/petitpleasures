if("undefined"==typeof $)throw new Error("Lanalua's JavaScript requires jQuery");var lanaluaBackground=function(){function e(){a(),$(window).on("scroll",a),s=Math.floor(4*Math.random()),t(),n()}function o(e){return clearInterval(c),clearTimeout(i),s=e,$(".page-selector").addClass("bg-transition"),$(".page-selector a").blur(),setTimeout(t,1e3),n(),!1}function a(){scrollTop=lanalua.getScrollTop(),pageOffsets=lanalua.pageOffsets();var e=r(scrollTop,.85),o=r(scrollTop,.9),a=r(scrollTop,.95);$(".transition-background").each(function(){$(this).css("background-position","center "+a+"px, center "+o+"px, center "+e+"px")});var n=600+r(scrollTop-pageOffsets[1],.8);n>-350&&n<450&&$(".transition-picture-0").css("background-position","center "+n+"px");var t=600+r(scrollTop-pageOffsets[2],.8);t>-350&&t<450&&$(".transition-picture-1").css("background-position","center "+t+"px");var s=-600-r(scrollTop-pageOffsets[3],1.1);s>-350&&s<450&&$(".transition-picture-2").css("background-position","center "+s+"px");var c=600+r(scrollTop-pageOffsets[4],.8);c>-350&&c<450&&$(".transition-picture-3").css("background-position","center "+c+"px")}function r(e,o){return Math.round(e*o)}function n(){c=setInterval(function(){s<3?s++:s=0,$(".page-selector").addClass("bg-transition"),i=setTimeout(t,1e3)},1e4)}function t(){$(".page-selector").removeClass("page-home-0"),$(".page-selector").removeClass("page-home-1"),$(".page-selector").removeClass("page-home-2"),$(".page-selector").removeClass("page-home-3"),$(".page-selector").addClass("page-home-"+s),$(".page-selector").removeClass("bg-transition")}var s,c,i;return{init:e,changeHomeBackground:o}}();$(window).on("load",lanaluaBackground.init);