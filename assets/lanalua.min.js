if("undefined"==typeof $)throw new Error("Lanalua's JavaScript requires jQuery");var lanalua=function(){function n(){y=!1,C=!1,M=!1,E=m(),H=p(),x=0,e(),L="Lanalua",j=[],q=[],$(".pages .page").each(function(n){j.push($(this).attr("id")),q.push($(this).data("title"))}),""==window.location.hash?(window.history.replaceState("page-0",q[0],"#"+j[0]),A=0):A=f(window.location.hash.substring(1)),document.title=h(),$("body").addClass("active-"+A),D=A,$(window).on("resize orientationChange",o),$(window).on("scroll",i),$(window).on("popstate",a),$(window).on("touchmove",d),$(window).on("DOMMouseScroll",s),$(window).on("mousewheel",s),$(window).on("wheel",s),J=/MSIE \d|Trident.*rv:/.test(navigator.userAgent),J&&$(window).off("popstate",a),P=setInterval(r,100),b(x-S[A]>=2),y=!0,$("body").addClass("initialized"),Y=768}function t(n){return D=n,l(!1,!0),$(".navbar-toggle").is(":visible")&&$(".navbar-collapse").is(":visible")&&$(".navbar-toggle").click(),!1}function e(){S=[],T=[],$(".pages .page").each(function(n){$(this).css("height",""),S.push($(this).offset().top),T.push($(this).outerHeight()),$(this).css("height",$(this).outerHeight())}),w(),z=-1,I=-1}function o(){var n=m(),t=p();n==E&&t==H||(E=n,H=t,z=0,I=0)}function i(){if(m()!=E&&o(),p()!=H&&o(),z==-1&&!C){w();var n=W/E;M?(D=f(window.location.hash.substring(1)),l(!0),M=!1):x>=k&&n>.6?(D=Math.max(A+1,c()),l()):x<=k&&n<-.6?(D=Math.min(A-1,c()),l()):0!=W&&(I=0)}v()}function a(){M=!0}function d(){($("html").is(":animated")||$("body").is(":animated"))&&($("html,body").stop(),u())}function s(){if($("html").is(":animated")||$("body").is(":animated"))return!1}function r(){if(z>-1&&z<5&&z++,5==z&&(e(),l(!0)),z>=5&&(z=-1),!C){if(I>-1&&I<5&&I++,5==I){var n=W/E;n>-.2&&n<.2?l():I=-1}I>=5&&(I=-1)}}function l(n,t){if(n="undefined"!=typeof n&&n,t="undefined"!=typeof t&&t,D!=A||0!=W){var e=$(".page-"+D);if(null!=e&&e.length>0){var o,i=A!=D;$("body").removeClass("active-"+A),C=!0,A=D,$("body").addClass("active-"+A),o=n||M||t||(i?W>=0:W<0)?e.offset().top:e.offset().top+T[A]-m(!0)+1,M||!i||J||window.history.pushState("page-"+A,q[A],"#"+j[A]),n?($("html,body").scrollTop(o),u()):!t&&i&&H<Y?u():$("html,body").stop().animate({scrollTop:o},{easing:"swing",duration:1e3,complete:u})}}else I!=-1&&(I=-1)}function u(){C&&(C=!1,w(),I=-1,document.title=h(),v())}function c(){var n=0,t=0,e=g();for(t=0;t<S.length&&e>=S[t];t++)n=t;return n}function f(n){var t=0,e=0;for(e=0;e<j.length;e++)if(n==j[e]){t=e;break}return t}function h(){return 0==A?L+" | "+q[A]:q[A]+" | "+L}function w(){k=x,x=g(),O=x+m(!0),W=x<S[A]?x-S[A]:O>S[A]+T[A]?O-(S[A]+T[A]):0}function m(n){return n="undefined"!=typeof n&&n,n?Math.max(document.documentElement.clientHeight,window.innerHeight):document.documentElement.clientHeight||window.innerHeight}function p(n){return n="undefined"!=typeof n&&n,n?Math.max(document.documentElement.clientWidth,window.innerWidth):document.documentElement.clientWidth||window.innerWidth}function g(){return document.documentElement.scrollTop||window.pageYOffset}function v(){Q&&Math.abs(x-S[A])<2?b(!1):!Q&&Math.abs(x-S[A])>=2&&b(!0)}function b(n){Q=n,n?($("body").removeClass("not-scrolled"),$("body").addClass("scrolled")):($("body").removeClass("scrolled"),$("body").addClass("not-scrolled"))}var y,C,M,E,H,S,T,W,x,O,k,z,I,L,j,q,A,D,J,P,Q,Y;return{init:n,goToPage:t,getScrollTop:g,pageOffsets:function(){return S}}}();$(window).on("load",lanalua.init);